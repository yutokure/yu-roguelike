<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ミニゲーム: テトリス風</title>
    <link rel="stylesheet" href="../manual.css">
</head>
<body>
    <main>
        <h1>ミニゲーム: テトリス風</h1>
        <p>
            「テトリス風」は、7種のテトリミノを1つずつ操作して10×20マスのフィールドを埋め、ラインを消去していく落ち物パズルです。
            ゴースト表示やホールド、次のピースの先読みなど、練習向けの定番機能に加え、REN倍率とT-Spin判定によるMiniExp向けの経験値システムを備えています。
        </p>

        <section>
            <h2>画面構成</h2>
            <dl>
                <dt>プレイフィールド</dt>
                <dd>
                    10列×20行のメインボード。現在のテトリミノと着地位置のゴーストが同時に表示されます。
                    ブロックが着地するとリップルやショックウェーブなどの演出が発生し、ライン消去の状況が視覚的に分かります。
                </dd>
                <dt>ステータス表示</dt>
                <dd>
                    画面左上に総消去ライン数と現在のREN（連続消去数）が表示されます。ゴーストの硬直時間を待って終了すると「Game Over」オーバーレイが表示され、Rキーで再開できます。
                </dd>
                <dt>ホールドパネル</dt>
                <dd>
                    右側上部の「HOLD」ボックスには保持中のテトリミノが表示されます。ホールドは1ピースにつき1回のみ使用でき、使用直後は次のテトリミノが出現します。
                </dd>
                <dt>ネクストキュー</dt>
                <dd>
                    「NEXT」ボックスでは常に最大5個分の先行テトリミノが確認できます。バッグ方式で7種全てが一巡するため、偏りが抑えられています。
                </dd>
            </dl>
        </section>

        <section>
            <h2>基本操作</h2>
            <ul>
                <li>← / →: テトリミノを左右に移動します。移動後に地面に接している場合はロックタイマーがリセットされます。</li>
                <li>↓: ソフトドロップ。1マス下げるごとにロックタイマーがリセットされ、着地が遅延します。</li>
                <li>↑ または X: 右回転。壁際では簡易的な壁蹴りで数マスまで補正します。</li>
                <li>Z: 左回転。</li>
                <li>Space: ハードドロップ。着地まで即時に落下し、追加の演出と1XPを獲得します。</li>
                <li>C: ホールド。現在のテトリミノを保持スロットと入れ替え、同一ターン中は再使用できません。</li>
                <li>R: ゲームをリスタートします（MiniExpホスト側のRショートカットも一時的に無効化されます）。</li>
            </ul>
        </section>

        <section>
            <h2>ライン消去と経験値</h2>
            <p>
                ブロックを固定するとラインが検出され、1〜4ライン消去に応じて経験値を得ます。連続してラインを消すとRENが増え、<code>1.5^(REN-1)</code>倍で報酬が乗算されます。
                ラインを消せなかった場合はRENがリセットされます。
            </p>
            <table>
                <thead>
                    <tr>
                        <th>消去内容</th>
                        <th>基礎XP</th>
                        <th>備考</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>シングル</td>
                        <td>2</td>
                        <td>RENが1以上なら倍率適用</td>
                    </tr>
                    <tr>
                        <td>ダブル</td>
                        <td>5</td>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td>トリプル</td>
                        <td>10</td>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td>テトリス（4ライン）</td>
                        <td>25</td>
                        <td>強いショックウェーブ演出</td>
                    </tr>
                    <tr>
                        <td>T-Spin シングル</td>
                        <td>4</td>
                        <td>回転で設置し、角のうち3箇所以上が埋まっている場合</td>
                    </tr>
                    <tr>
                        <td>T-Spin ダブル</td>
                        <td>15</td>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td>T-Spin トリプル</td>
                        <td>75</td>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td>T-Spin + 4ライン</td>
                        <td>90</td>
                        <td>稀なケース。倍率も併用</td>
                    </tr>
                </tbody>
            </table>
            <p class="small-note">
                T-SpinはTミノを回転動作で固定し、中心マスの四隅のうち3箇所以上が埋まっている場合に成立します。成立時は専用の演出とフローティングテキストが表示されます。
            </p>
        </section>

        <section>
            <h2>難易度による落下スピード</h2>
            <p>
                MiniExpの難易度オプション（Easy / Normal / Hard）に応じて、重力とロック遅延が変化します。指定がない場合はNormalになります。
            </p>
            <table>
                <thead>
                    <tr>
                        <th>難易度</th>
                        <th>1マス落下にかかる時間</th>
                        <th>ロック遅延</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Easy</td>
                        <td>0.80秒</td>
                        <td>0.80秒</td>
                    </tr>
                    <tr>
                        <td>Normal</td>
                        <td>0.50秒</td>
                        <td>0.50秒</td>
                    </tr>
                    <tr>
                        <td>Hard</td>
                        <td>0.25秒</td>
                        <td>0.35秒</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section>
            <h2>プレイのヒント</h2>
            <ul>
                <li>ハードドロップの演出はRENと合わせて得点効率を高めるシグナルとして使えます。落下距離が長いほどショックウェーブが強くなります。</li>
                <li>バッグ方式により7種が均等に出現するため、ネクスト表示を活用して序盤からT-Spinトリプルなどのセットアップを狙えます。</li>
                <li>RENを切らさないことが経験値効率の鍵です。ラインが消えない配置になりそうなときはホールドやネクストで調整しましょう。</li>
            </ul>
        </section>
    </main>
</body>
</html>
