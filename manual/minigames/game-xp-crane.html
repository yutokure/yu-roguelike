<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ミニゲーム: XPクレーンキャッチャー MOD</title>
    <link rel="stylesheet" href="../manual.css">
</head>
<body>
    <main>
        <h1>ミニゲーム: XPクレーンキャッチャー MOD</h1>
        <section>
            <h2>概要</h2>
            <p>
                <strong>XPクレーンキャッチャー</strong> は、MiniExp に追加される 1 プレイ制限時間型のクレーンゲーム MOD です。
                キャビネット内を漂う経験値カプセルを掬って排出口へ運ぶと EXP を獲得でき、成功の連続数や特殊カプセルでボーナスが発生します。
                難易度によって残り時間・生成頻度・グリップ初期値が変化するため、目的の報酬量に応じたプレイスタイルを選びましょう。
            </p>
        </section>
        <section>
            <h2>プレイの流れ</h2>
            <ol>
                <li>MiniExp メニューから <strong>XPクレーンキャッチャー</strong> を開始すると、クレーン筐体を模した専用キャンバス UI が表示されます。</li>
                <li>左右へクレーンを移動し、掴みたいカプセルの上に来たら下降操作（スペースキーまたはタップ後の指離し）でアームを落とします。</li>
                <li>掴みに成功したカプセルは天井まで持ち上げられ、右側の排出口まで自動で移動した後に回収されて EXP が即時加算されます。</li>
                <li>制限時間が 0 になるか、終了演出が流れた時点でリザルトが表示され、獲得 EXP・成功回数・タイムボーナスなどの内訳を確認できます。</li>
                <li>リザルト表示中はキャンバスのクリック／タップまたは <kbd>R</kbd> キーで即座にリスタートできます。</li>
            </ol>
        </section>
        <section>
            <h2>操作方法</h2>
            <ul>
                <li><strong>← / → キー または A / D キー:</strong> クレーンを左右に移動させます。押しっぱなしで連続移動します。</li>
                <li><strong>スペースキー:</strong> アームを下降させて掴み動作を開始します。下降中は自動で対象を判定します。</li>
                <li><strong>マウス／タッチ操作:</strong> 画面を押している間はクレーンの目標位置を指先に追従させ、指を離したタイミングで掴み動作に移ります。</li>
                <li><strong>R キー:</strong> ゲーム終了後のリザルト画面で押すと即リトライします（プレイ中は無効化されます）。</li>
            </ul>
            <p>アームは下降後に自動で上昇・搬送・リリースを行うため、プレイヤーは次の狙い位置に集中できます。</p>
        </section>
        <section>
            <h2>HUD とアームの仕組み</h2>
            <ul>
                <li><strong>TIME:</strong> 残り時間を 0.1 秒単位で表示します。時間切れになると強制的に終了処理へ移行します。</li>
                <li><strong>XP:</strong> 現在までに獲得した EXP の累計です。排出口での回収とボーナス付与が発生した瞬間に更新されます。</li>
                <li><strong>COMBO:</strong> 連続成功回数（2 回目以降は <code>xN</code> 表記）を示します。失敗すると 0 にリセットされます。</li>
                <li><strong>GRIP ゲージ:</strong> アームの保持力を 0〜100% で示します。数値が高いほど掴み成功率が上がり、重いカプセルほど保持力を消耗します。</li>
            </ul>
            <p>
                アームは下降中に最も近いカプセルを候補にし、保持力から算出した成功率で掴み判定を行います。失敗するとコンボと保持力が減少し、成功時は保持力が大きく消耗します。
                グリップ値は難易度ごとの <em>グリップ回復速度</em> で毎秒自動回復するため、無理に連打せずゲージの戻りを待つ判断も重要です。
            </p>
        </section>
        <section>
            <h2>カプセルの種類と EXP 計算</h2>
            <ul>
                <li><strong>スモール:</strong> 半径 14px、基礎 EXP +3。軽いため成功率が高く、保持力の減少も少なめです。</li>
                <li><strong>ミディアム:</strong> 半径 19px、基礎 EXP +7。標準的な重さで、通常プレイの主力になります。</li>
                <li><strong>ラージ:</strong> 半径 25px、基礎 EXP +15。重量があるぶん掴みづらいですが、30 秒以内に 3 つ以上連続回収すると一度だけ <strong>シークレットボーナス +10EXP</strong> が発生します。</li>
                <li><strong>レインボー:</strong> 半径 21px、基礎 EXP +20。掴むと周囲 60px のカプセルを磁力吸引状態にし、搬送時にそれらも同時回収できます（吸引されたカプセルは基礎値の 60% を追加 EXP として付与）。</li>
            </ul>
            <p>
                連続成功中は <strong>コンボボーナス</strong> が働き、2 連続目以降は現在のコンボ値 ×2 の追加 EXP が掴んだカプセルごとに加算されます。
                いずれかのカプセルを排出口でリリースしたタイミングで合計値が確定し、MiniExp 本体に EXP 付与イベントとして通知されます。
            </p>
        </section>
        <section>
            <h2>終了時のボーナス</h2>
            <ul>
                <li>制限時間が残っている場合、その秒数 ×0.2 を四捨五入した <strong>タイムボーナス</strong> が自動で加算されます。</li>
                <li>レインボーカプセルで吸引したカプセル分は「虹吸引ボーナス」としてリザルトにまとめて表示されます。</li>
                <li>シークレット条件を満たした場合はリザルトで別枠表示され、一度のプレイにつき 1 回のみ発生します。</li>
            </ul>
        </section>
        <section>
            <h2>難易度ごとの違い</h2>
            <p>MiniExp 側の難易度選択に応じて、次のパラメータが自動的に切り替わります。</p>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>難易度</th>
                            <th>制限時間</th>
                            <th>カプセル生成周期</th>
                            <th>落下速度倍率</th>
                            <th>保持力初期値</th>
                            <th>保持力回復量</th>
                            <th>最大同時出現数</th>
                            <th>出現密度</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>EASY</td>
                            <td>70 秒</td>
                            <td>0.9 秒ごと</td>
                            <td>0.85 倍</td>
                            <td>94%</td>
                            <td>毎秒 +10</td>
                            <td>32 個</td>
                            <td>80%</td>
                        </tr>
                        <tr>
                            <td>NORMAL</td>
                            <td>65 秒</td>
                            <td>1.05 秒ごと</td>
                            <td>1.0 倍</td>
                            <td>88%</td>
                            <td>毎秒 +8</td>
                            <td>30 個</td>
                            <td>68%</td>
                        </tr>
                        <tr>
                            <td>HARD</td>
                            <td>60 秒</td>
                            <td>1.35 秒ごと</td>
                            <td>1.15 倍</td>
                            <td>82%</td>
                            <td>毎秒 +6</td>
                            <td>26 個</td>
                            <td>55%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p>
                難易度が上がるほど保持力が減り、補充も遅くなるため、一投ごとの精度が重要になります。HARD ではカプセルの落下が速く密度も低いため、虹吸引を有効活用して取り逃しを補うと良いでしょう。
            </p>
        </section>
        <section>
            <h2>攻略ヒント</h2>
            <ul>
                <li>カプセルが床で跳ねた直後は速度が落ち、アームに収まりやすい位置へ集まります。焦らず待ってから狙うと成功率が上がります。</li>
                <li>保持力ゲージが 40% を切ったら一旦移動だけに専念し、回復を待ってから重いカプセルに挑むのが安全です。</li>
                <li>レインボーカプセルを掴んだら吸引対象が排出口に触れる前に離さないようにしましょう。まとめ取りで大幅な EXP を稼げます。</li>
                <li>シークレットボーナスを狙う場合は、大型カプセルを見つけたら連続で取りに行ける位置を優先して確保し、他のカプセルは無視するのも一手です。</li>
            </ul>
        </section>
    </main>
</body>
</html>
