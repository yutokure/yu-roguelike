<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ミニゲーム: 計算コンボ</title>
    <link rel="stylesheet" href="../manual.css">
</head>
<body>
    <main>
        <h1>ミニゲーム: 計算コンボ</h1>
        <section>
            <h2>概要</h2>
            <p>
                計算コンボは、足し算・引き算・掛け算・割り算をテンポ良く解き続ける暗算トレーニング型のミニゲームです。
                制限時間内に正答するとコンボがつながり、ボーナス経験値が加算されるため、スピードと正確さの両立が求められます。
            </p>
        </section>
        <section>
            <h2>準備とゲーム開始</h2>
            <ol>
                <li>タイトルメニューのミニゲーム一覧から <strong>計算コンボ</strong> を選択します。</li>
                <li>表示された難易度フォームで <strong>EASY</strong>・<strong>NORMAL</strong>・<strong>HARD</strong> のいずれかを選び、「開始」ボタンを押します。</li>
                <li>中央に問題カードとタイムバー、下部に回答入力欄が表示され、カウントダウンと共にゲームが始まります。</li>
            </ol>
            <p class="small-note">難易度はコンボが途切れるかメニューに戻るまで固定されます。リスタートすると再選択が可能です。</p>
        </section>
        <section>
            <h2>操作方法</h2>
            <ul>
                <li>テンキーまたは数字キーで解答を入力し、<kbd>Enter</kbd> で送信します。</li>
                <li><kbd>Esc</kbd> を押すと問題をスキップできます（コンボがリセットされ、経験値は入りません）。</li>
                <li>マウス操作では送信ボタンのクリックでも回答できます。</li>
            </ul>
        </section>
        <section>
            <h2>ルールと採点</h2>
            <ul>
                <li>各問題には難易度に応じた制限時間があります（EASY: 6 秒、NORMAL: 5 秒、HARD: 4 秒）。</li>
                <li>正解すると基本経験値 <strong>5 XP</strong> に加え、<strong>コンボ数 × 2 XP</strong> のボーナスが加算されます。</li>
                <li>残り時間の割合に応じて最大 <strong>+4 XP</strong> のスピードボーナスが付与されます。</li>
                <li>10 問連続で正解するごとに追加の <strong>+10 XP</strong> とポップ演出を獲得します。</li>
                <li>制限時間を使い切るか誤答した場合はミス扱いとなり、コンボが 0 に戻ります（経験値減算はありません）。</li>
            </ul>
        </section>
        <section>
            <h2>出題内容</h2>
            <p>
                足し算・引き算・掛け算・割り算がランダムに登場します。割り算は必ず割り切れる問題のみ出題され、解答は 1〜12 に収まります。
                同じ演算が続き過ぎないよう内部で重みづけされているため、リズム良くさまざまな問題が出題されます。
            </p>
            <p class="small-note">EASY は加減算が中心、HARD は掛け算や割り算が多めになるよう調整されています。</p>
        </section>
        <section>
            <h2>インターフェース表示</h2>
            <ul>
                <li>画面上部: 現在の難易度、正解数、ミス数、コンボ、獲得経験値の累計がリアルタイムで表示されます。</li>
                <li>中央カード: 問題文と残り時間のバーを表示し、正解時はグリーン、ミス時はレッドの演出が入ります。</li>
                <li>下部パネル: 入力欄と送信ボタン、直近 5 問の履歴ログが配置され、獲得経験値や正解・ミスが確認できます。</li>
            </ul>
        </section>
        <section>
            <h2>ゲーム終了条件</h2>
            <p>
                ゲームは任意のタイミングでメニューに戻るまで継続し、記録は途中でも確認できます。ホスト操作で停止した場合は残り時間が保持され、再開時に引き継がれます。
            </p>
        </section>
        <section>
            <h2>攻略のヒント</h2>
            <ul>
                <li>コンボボーナスが大きいため、焦らず確実に答えることが高得点の近道です。</li>
                <li>タイムバーが 25% を切ると赤く点滅します。視覚的な警告を目安に、無理そうなときは早めに Esc で切り替えましょう。</li>
                <li>割り算は 2〜9 の範囲で割り切れる問題だけが出るため、九九の逆算を意識すると素早く答えられます。</li>
            </ul>
        </section>
    </main>
</body>
</html>
