<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ミニゲーム: 囲碁ライト</title>
    <link rel="stylesheet" href="../manual.css">
</head>
<body>
    <main>
        <h1>ミニゲーム: 囲碁ライト</h1>

        <section>
            <h2>概要</h2>
            <p>「囲碁ライト」は9路盤でAI（白）と対局する囲碁の入門向けミニゲームです。プレイヤーは常に黒番で先手を取り、着手・捕獲・勝利時に経験値を獲得できます。【F:games/go.js†L2-L196】【F:games/go.js†L430-L495】</p>
            <ul>
                <li>木目調の9×9キャンバスと星を描画し、最新着手をリング表示するビジュアル演出で局面がわかりやすく表現されます。【F:games/go.js†L371-L427】</li>
                <li>情報パネルでは手番・捕獲数・コミ6.5の状況が常に更新され、結果判定時には最終スコアを表示します。【F:games/go.js†L329-L495】</li>
                <li>パスと投了ボタンを備え、連続パスで終局する公式ルールに準じた対局進行が可能です。【F:games/go.js†L153-L521】</li>
            </ul>
        </section>

        <section>
            <h2>画面構成</h2>
            <h3>インフォメーションカード</h3>
            <p>画面上部のカードには手番表示と捕獲数、そして白へ与えられるコミ6.5が記載されます。コウ違反時やAI思考中、連続パス数、終局後の勝敗メッセージなど文脈に応じた文面へ自動的に切り替わります。【F:games/go.js†L123-L521】</p>
            <h3>碁盤キャンバス</h3>
            <p>中央のキャンバスはサイズ480pxで、格子・星・石のグラデーション描画により視認性が確保されています。マウスを重ねると仮着手マーカーが表示され、直前の着手位置は外周リングで強調されます。【F:games/go.js†L143-L427】</p>
            <h3>操作ボタン</h3>
            <p>下部のボタン群には青色の「パス」と赤色の「投了」が並び、どちらも円形の角とホバー操作に適した余白設定で配置されています。イベントリスナーはゲームの開始・終了に合わせて登録／解除されるため、誤操作を防ぎます。【F:games/go.js†L153-L630】</p>
        </section>

        <section>
            <h2>基本ルールと勝敗判定</h2>
            <ul>
                <li>着手は交点に石を置き、相手の石の呼吸点（隣接する空点）がすべて埋まればその石を取り除きます。本作では呼吸点0のグループを検出して捕獲処理を行います。【F:games/go.js†L211-L255】</li>
                <li>自分の石も呼吸点0であれば自殺手として無効化されますが、相手の石を同時に取る手は合法になります。【F:games/go.js†L235-L255】</li>
                <li>コウ（前局面の繰り返し）を防止するため、同一局面がヒストリーに存在する場合は着手できません。違反時はメッセージが表示されます。【F:games/go.js†L193-L435】</li>
                <li>両者が連続でパスすると終局し、AIも含めてパスした回数がインフォメーションに表示されます。【F:games/go.js†L498-L521】</li>
                <li>終局時は盤面から死に石を自動で除去し、地＋盤上の石＋捕獲数＋白コミ6.5で最終スコアを算出します。差が0なら持碁、黒優勢なら勝利EXPを獲得します。【F:games/go.js†L279-L495】</li>
                <li>途中投了を選ぶと直ちに白の勝ちとして処理され、結果表示とともに対局が終了します。【F:games/go.js†L167-L661】</li>
            </ul>
        </section>

        <section>
            <h2>操作方法</h2>
            <ul>
                <li>盤面をクリック（タップ）すると黒石を配置します。クリック時には合法手か判定され、コウや自殺手は自動的に弾かれます。【F:games/go.js†L574-L586】</li>
                <li>マウスを動かすと着手候補が薄いマーカーで表示され、不合法手ではマーカーが消えて警告代わりになります。【F:games/go.js†L589-L607】</li>
                <li>「パス」を押すと手番をスキップし、2連続パスで終局します。AIも合法手がない場合は自動でパスします。【F:games/go.js†L498-L521】【F:games/go.js†L652-L656】</li>
                <li>「投了」を押すとAIの勝ちとして対局を終了し、リザルトが表示されます。【F:games/go.js†L167-L661】</li>
            </ul>
        </section>

        <section>
            <h2>難易度とAI挙動</h2>
            <p>難易度はオプションから EASY / NORMAL / HARD の3段階が選択でき、AIの着手評価に影響します。EASYとNORMALではランダムゆらぎを加え、HARDでは黒の応手を簡易的に読み込むことでより慎重な着手を選びます。中心付近を好むバイアスと捕獲／連結の重み付けにより、盤面全体を意識したAI挙動になります。【F:games/go.js†L72-L557】</p>
        </section>

        <section>
            <h2>EXPと報酬</h2>
            <p>石を1手打つごとに1EXP、複数の石を取ると難易度に応じた倍率（EASY×2、NORMAL×2.5、HARD×3）で追加EXPが得られます。終局時に黒が勝利すると難易度に応じた大量のボーナスEXP（EASY90／NORMAL180／HARD320）が支給されます。【F:games/go.js†L12-L448】【F:games/go.js†L492-L495】</p>
        </section>

        <section>
            <h2>初心者向け戦略アドバイス</h2>
            <ul>
                <li>序盤は隅や辺に石を配置して地を確保しやすい形を作りましょう。9路盤では数手で全体が小さな戦いに発展するため、角を安定させることが要です。</li>
                <li>石同士をつなげて呼吸点を確保することが重要です。危ないと思ったら連結して眼形を作る、あるいは相手の眼を奪う着手を意識すると生存率が上がります。</li>
                <li>AIは中心へのバイアスを持つため、中央戦で不用意に競り合うよりも周辺で堅実に地をまとめる方が勝ちやすい場面もあります。余裕があればAIの石を追い込み、捕獲ボーナスでEXPを稼ぎましょう。</li>
                <li>終盤は捕獲数とコミを踏まえた総得点を意識し、リードしている場合は安全な手で整地してからパスを選ぶと持碁や逆転を防げます。</li>
            </ul>
        </section>
    </main>
</body>
</html>
