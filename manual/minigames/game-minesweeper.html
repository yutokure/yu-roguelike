<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ミニゲーム: マインスイーパー</title>
    <link rel="stylesheet" href="../manual.css">
</head>
<body>
    <main>
        <h1>ミニゲーム: マインスイーパー</h1>
        <section>
            <h2>概要</h2>
            <p>
                盤面に隠された地雷の位置を推理しながら、安全なマスを開いていくパズルゲームです。
                MiniExp 版では難易度ごとに盤面サイズと地雷数が変化し、素早く全ての安全マスを見つけることで経験値ボーナスを獲得できます。
            </p>
        </section>
        <section>
            <h2>難易度と盤面サイズ</h2>
            <p>開始時にホストが渡す <code>difficulty</code> オプションに応じて、以下の設定でプレイします（未指定時は NORMAL）。</p>
            <ul>
                <li><strong>EASY</strong>：9×9 / 地雷 10 個 / クリアボーナス +25 XP</li>
                <li><strong>NORMAL</strong>：16×16 / 地雷 40 個 / クリアボーナス +200 XP</li>
                <li><strong>HARD</strong>：30×16 / 地雷 99 個 / クリアボーナス +1600 XP</li>
            </ul>
            <p>キャンバスはルート領域の幅に合わせて縮尺調整され、どの難易度でも全体が見えるよう自動レイアウトされます。</p>
        </section>
        <section>
            <h2>操作方法</h2>
            <ul>
                <li><strong>左クリック</strong>：選択したマスを開きます。初手で地雷は必ず出現せず、周辺 8 マスも安全地帯として確保されます。</li>
                <li><strong>右クリック</strong>：そのマスに旗を立てたり外したりします。旗は残り地雷数のカウントに反映されます。</li>
                <li><strong>R キー</strong> または トップバーの再開ボタン：盤面をリセットして新しいゲームを開始します。</li>
            </ul>
            <p>ゲーム中はホストショートカットの <kbd>R</kbd> が一時的に無効化され、終了後またはリスタート時に再び有効になります。</p>
        </section>
        <section>
            <h2>画面表示</h2>
            <p>キャンバス上部のトップバーには現在の状況がリアルタイムに表示されます。</p>
            <ul>
                <li>選択中の難易度</li>
                <li>盤面全体の地雷数と、旗が残り何本立てられるか</li>
                <li>経過時間（秒）</li>
                <li>開いた安全マスの累計数</li>
            </ul>
            <p>ゲーム内テキストはローカライズ設定に合わせて自動的に更新されます。</p>
        </section>
        <section>
            <h2>ルールと得点</h2>
            <ul>
                <li>左クリックで地雷を踏むと即座にゲーム終了です。地雷マスは赤い丸で表示されます。</li>
                <li>開いたマスに数字が表示された場合は、そのマスに隣接する 8 方向に存在する地雷の数を表します。</li>
                <li>数字が 0 のマスを開くと、周囲の安全マスを連鎖的に開放します。</li>
                <li>安全マスを新たに開放するたびに 0.1 XP を獲得します（連鎖で開いた分もまとめて加算）。</li>
                <li>全ての安全マスを開き切るとクリアとなり、難易度に応じたクリアボーナス XP を受け取ります。</li>
            </ul>
        </section>
        <section>
            <h2>ゲーム終了とスコア</h2>
            <p>
                地雷を踏むか、全ての安全マスを開放した時点でゲームが終了し、タイマーが停止します。
                スコアは基本的に開いた安全マスの数で算出され、完全クリア時には経過時間を基準にしたタイムボーナス換算が行われます。
                終了後は再開ボタンまたは <kbd>R</kbd> キーでいつでもリスタートできます。
            </p>
        </section>
        <section>
            <h2>攻略のヒント</h2>
            <ul>
                <li>初手で安全なエリアが確保されるため、広く開ける場所を狙って早めに情報を集めましょう。</li>
                <li>旗の数は残り地雷数の目安として活用しつつ、確定できるマスから順番に処理するとミスが減ります。</li>
                <li>HARD では盤面が横長になるため、スクロールすることなく全体を把握できるよう視線を横方向に動かすのがポイントです。</li>
            </ul>
        </section>
    </main>
</body>
</html>
