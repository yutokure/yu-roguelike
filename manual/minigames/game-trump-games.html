<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ミニゲーム: トランプセレクション</title>
    <link rel="stylesheet" href="../manual.css">
</head>
<body>
    <main>
        <h1>ミニゲーム: トランプセレクション</h1>

        <section>
            <h2>概要</h2>
            <p>
                <strong>トランプセレクション</strong> は 12 種類のカードゲームをまとめたハブ型ミニゲームです。
                左側のリストでゲームを選ぶと、同一ウィンドウ内で UI が切り替わり、選択タイトル専用の盤面・操作ボタン・スコア表示が読み込まれます。
                クロンダイク／スパイダー／フリーセルなどのソリティア系に加えて、ハーツ・七並べ・大富豪といった対戦型ゲーム、神経衰弱・ブラックジャック・ジジ抜きなどのカジュアルゲーム、役作りを競うドローポーカー、UNO の源流とされるページワンまで取り揃えています。
            </p>
        </section>

        <section>
            <h2>画面構成と操作の基本</h2>
            <ul>
                <li><strong>ゲームナビゲーション:</strong> 左ペインにあるタイトル一覧から遊ぶゲームを選択します。各タイトルにはアイコンと名称、ベストスコア（記録があれば）が表示されます。</li>
                <li><strong>ヘッダー:</strong> 右上に選択中ゲーム名、難易度バッジ（EASY/NORMAL/HARD）、進行状況の要約、リザルトや記録を表示します。ヘッダー右端の歯車ボタンから共通設定を開けます。</li>
                <li><strong>盤面領域:</strong> 選択したゲーム固有のテーブル・カード配置・プレイヤー一覧・ログがここに表示されます。</li>
                <li><strong>アクションバー:</strong> 下部にゲームごとの操作ボタンとホットキー案内が並びます。ESC または「ゲームを終了」ボタンでハブ画面へ戻れます。</li>
                <li><strong>トースト通知:</strong> 画面右下に操作ヒントや警告、獲得 EXP の結果がポップアップします。</li>
            </ul>
        </section>

        <section>
            <h2>共通設定と保存機能</h2>
            <ul>
                <li><strong>カード裏面テーマ:</strong> 「クラシック」「モダン」「フォレスト」の 3 種類からカード裏面のカラーテーマを切り替えられます。</li>
                <li><strong>神経衰弱の自動裏返し:</strong> 不一致だったカードを自動で伏せるかどうかをトグルで変更できます。手動モードではプレイヤーがタップして裏返す必要があります。</li>
                <li><strong>難易度と EXP 倍率:</strong> MiniExp 側の難易度設定に応じて EXP 獲得量に倍率（EASY:×0.8、NORMAL:×1.0、HARD:×1.2）が掛かります。難易度はトランプセレクション起動時に読み込まれ、全ゲームの報酬に適用されます。</li>
                <li><strong>ローカル保存:</strong> 選択中タイトル・各ゲームの通算プレイ数／勝利数／ベストスコア／最後のスコア、および共通設定はブラウザのローカルストレージに自動保存され、次回起動時に復元されます。</li>
            </ul>
        </section>

        <section>
            <h2>収録ゲームとルール</h2>
            <section>
                <h3>ソリティア系</h3>
                <article>
                    <h4>ソリティア（クロンダイク）</h4>
                    <ul>
                        <li>52 枚の標準デッキを 7 列の場札に配り、列ごとに最下段 1 枚だけ表向きにします。残りは山札として積まれます。</li>
                        <li>山札は 1 枚めくり方式で捨て札に送られます。山札が尽きた場合は捨て札を裏返して再利用できます。</li>
                        <li>列移動は「色が交互になるように 1 つ数が小さいカード」を重ね、空列にはキングからのみ置けます。ダブルクリックや「自動で台札へ」ボタンで台札移動の補助が可能です。</li>
                        <li>台札は各スートごとに A から K まで昇順に積み上げます。台札を完成させると追加 EXP を獲得し、全 4 スートが揃うとクリアです。</li>
                        <li>主な操作ホットキー: 山札をめくる (D)、自動で台札へ送る (A)、リスタート (R)、ハブに戻る (B)。</li>
                    </ul>
                </article>
                <article>
                    <h4>スパイダーソリティア</h4>
                    <ul>
                        <li>難易度により使用スートが変化します（EASY:1 スート、NORMAL:2 スート、HARD:4 スート）。10 列の場札に最下段だけ表の束を配り、残りは 10 枚ひとかたまりの山札として待機します。</li>
                        <li>同じスートでランクが 1 つずつ降順に並んだ連続列のみ選択して移動できます。列の最上段が裏向きなら、移動後に自動で表にめくれます。</li>
                        <li>全列にカードがある状態で山札を配ると各列に 1 枚ずつ表で補充されます。</li>
                        <li>同スートの K→A を 13 枚揃えた列を作ると取り除かれて得点 +100、EXP も加算されます。8 列完成でゲームクリアです。</li>
                        <li>スコアは 500 からスタートし、山札を配ると -1、完成列で +100、クリア時に残り山札 ×10 が加算されます。</li>
                    </ul>
                </article>
                <article>
                    <h4>フリーセル</h4>
                    <ul>
                        <li>52 枚のカードを 8 列に均等配布し、全て表向きで開始します。左上に 4 つのフリーセル、右上に 4 つの台札スロットがあります。</li>
                        <li>列移動は「色を交互に、ランクが 1 つ小さい」連続ランを選択して運びます。連続ランの最大長は空セル数と空列数によって決まります。</li>
                        <li>フリーセルには任意のカードを 1 枚ずつ一時退避できます。空列には任意のカード（またはラン）を置けます。</li>
                        <li>台札は各スートを A→K へ積み上げます。ヒント機能 (H) で次に動かせる候補を表示できます。</li>
                        <li>全カードを台札へ移動させるとクリア。移動 1 回ごとに少量の EXP、台札完成・空列活用・クリア時に追加 EXP を獲得します。</li>
                    </ul>
                </article>
            </section>

            <section>
                <h3>テーブル・トリックテイキング系</h3>
                <article>
                    <h4>ハーツ</h4>
                    <ul>
                        <li>4 人戦のトリックテイキング。最初にクラブの 2 を持つプレイヤーがリードし、同じスートを持っていればフォロー必須です。</li>
                        <li>ハートとスペード Q は失点カード（それぞれ 1 点、13 点）で、初回トリックではハートとスペード Q を出せません。リードがなくなり、誰かがハートを出した時点で「ハートブレイク」が発生し、以降は自由にハートを出せます。</li>
                        <li>トリックの勝者はリードスートの最高ランク。取った失点カードはラウンド終了時に合算します。</li>
                        <li>26 点（全失点カード）を独占した場合は「シュート・ザ・ムーン」として自分 0 点、他プレイヤー +26 点になります。</li>
                        <li>トリックやラウンド結果に応じて EXP を獲得／失点すると減少します。合計スコアが最も少ない人が有利です。</li>
                    </ul>
                </article>
                <article>
                    <h4>七並べ</h4>
                    <ul>
                        <li>4 人戦。各スートの 7 を基点にして、数字が昇順・降順に連なるようカードを並べていきます。</li>
                        <li>初手は必ずダイヤの 7 を出すプレイヤーからスタート。ターンが来たら置けるカードを 1 枚出すか、置けなければパスします。</li>
                        <li>場に置けるのは、各スートの現状ハイカードの +1 かロー側の -1、またはまだ未配置の 7 です。出せるカードがあるのにパスはできません。</li>
                        <li>最初に手札をなくしたプレイヤーの勝ち。パスすると小さなペナルティ EXP、カードを出す・勝利するとボーナス EXP が入ります。</li>
                    </ul>
                </article>
                <article>
                    <h4>ハブ内テーブル共通 UI</h4>
                    <p>ハーツ・七並べ・ババ抜き・ジジ抜き・大富豪・ページワンでは、プレイヤー一覧のハイライトで手番を示し、中央の盤面やログがリアルタイムで更新されます。手札操作はカードボタンをクリックするだけで AI とのターン管理も自動です。</p>
                </article>
            </section>

            <section>
                <h3>カジュアル＆勝負系</h3>
                <article>
                    <h4>神経衰弱</h4>
                    <ul>
                        <li>難易度に応じて 12（EASY）/15（NORMAL）/18（HARD）ペアを使用し、同じカードを 2 枚揃えて取り除きます。</li>
                        <li>自動モードでは不一致時に 0.6 秒後自動で裏返し、手動モードでは同じカードを再びクリックして伏せ直します。</li>
                        <li>連続一致するとコンボボーナス EXP が加算され、不一致でも少量の経験値が入ります。全ペアを揃えた時の経過時間がタイムとして記録され、ベストタイムを更新するとハブのバッジに表示されます。</li>
                    </ul>
                </article>
                <article>
                    <h4>ブラックジャック</h4>
                    <ul>
                        <li>6 デッキのシューを使用。プレイヤーとディーラーに 2 枚ずつ配り、プレイヤーは HIT と STAND を選択します。</li>
                        <li>プレイヤーの合計が 21 を超えると即バースト。ブラックジャック（A と 10 点カードの組み合わせ）は配られた直後に判定され、勝利時はボーナス EXP が加算されます。</li>
                        <li>ディーラーは 17 以上になるまで自動でヒットします。HARD 難易度ではソフト 17 でもヒットします。</li>
                        <li>勝利で 25 EXP、ブラックジャックで追加 60 EXP、引き分けでも 10 EXP を獲得します。勝敗数はステータスに累積表示されます。</li>
                        <li>主なホットキー: HIT (H)、STAND (S)、リスタート (R)、ハブへ戻る (B)。</li>
                    </ul>
                </article>
                <article>
                    <h4>ババ抜き</h4>
                    <ul>
                        <li>ジョーカー 1 枚を含む 53 枚を 4 人に配布し、同ランクのペアは即時除去されます。残ったカードを握り、右隣のプレイヤーから 1 枚引いてペアができれば捨てます。</li>
                        <li>手札が先に無くなった順番が着順となり、完走するとボーナス EXP を獲得。ジョーカーを最後まで持っていたプレイヤーはペナルティ EXP を受けます。</li>
                        <li>ヒントボタン (H) で「右隣のカードを引く」など基本動作を再確認できます。リスタート (R) で新しい配り直しです。</li>
                    </ul>
                </article>
                <article>
                    <h4>ドローポーカー</h4>
                    <ul>
                        <li>自分＋ AI3 名で 5 枚ドローポーカーをプレイ。初期手札が配られたら保持したいカードをクリックして「HOLD」状態にし、残りを交換します。</li>
                        <li>交換後に全員の役を評価し、ハンドランク（ロイヤルフラッシュ〜ハイカード）に応じた EXP を獲得します。トップハンドで勝利すると追加 EXP。</li>
                        <li>各ラウンド終了後にショーダウンの順位、役名、勝者が表示され、次のディールが自動で始まります。記録されたベストスコアはハンド評価値です。</li>
                    </ul>
                </article>
                <article>
                    <h4>ジジ抜き</h4>
                    <ul>
                        <li>ジョーカー 2 枚入りデッキを使用し、ゲーム開始時にランダムで 1 枚だけが「ジジ（負け札）」として指定されます。台札（場札）と同ランクを揃えて捨てるアクションが可能で、任意タイミングで交換モードに切り替えて台札と手札を入れ替えられます。</li>
                        <li>ペアが揃ったカードは自動で捨て札へ移動。手札が尽きたプレイヤーから順に順位が確定します。</li>
                        <li>最後にジジを持っていたプレイヤーが敗者となりペナルティ EXP。ジジを避けて早上がりするとボーナス EXP を獲得します。</li>
                    </ul>
                </article>
                <article>
                    <h4>大富豪</h4>
                    <ul>
                        <li>4 人対戦。ゲーム開始時にダイヤの 3 を持つプレイヤーがリードします。カードは単体出しのみで、場に出ているカードより強いランクを出すかパスする必要があります。</li>
                        <li>A が最強、2・ジョーカーは登場しない簡易ルールです。全員が連続してパスすると場が流れ、最後に出したプレイヤーが次のリードを取ります。</li>
                        <li>上がった順に順位が決まり、1 位になると 120 EXP、順位に応じたボーナスが付与されます。最下位には少量の慰労 EXP が加算されます。</li>
                    </ul>
                </article>
                <article>
                    <h4>ページワン</h4>
                    <ul>
                        <li>UNO の原型とされるルール。各プレイヤーに 7 枚ずつ配り、捨て札の一番上と同じ数字または同じスートのカードを出していきます。</li>
                        <li>出せるカードがない場合は山札から 1 枚引きます。1 枚になった際には「宣言する (P)」ボタンで宣言しないと勝利時にペナルティが発生します。</li>
                        <li>カードがなくなったプレイヤーが勝者。宣言忘れがあると -10 EXP、勝利すると 90 EXP を獲得します。</li>
                    </ul>
                </article>
            </section>
        </section>

        <section>
            <h2>記録と EXP の扱い</h2>
            <p>
                各ゲームは勝敗やスコアだけでなく、細かな行動（カード移動・ペア完成・勝負結果）ごとに EXP を加算または減算します。
                難易度倍率が適用された最終 EXP は MiniExp のアカウントに送信され、通算実績として保存されます。
                また、ベストスコア指標（クロンダイクは最小手数、スパイダーは最高スコア、神経衰弱は最速タイムなど）はゲーム選択リストにもバッジ表示され、腕前の目安として確認できます。
            </p>
        </section>
    </main>
</body>
</html>
